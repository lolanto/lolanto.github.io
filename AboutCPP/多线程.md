# Morden C++ 多线程

---

## Others

​	线程是操作系统调度的最小单位。进程是线程的容器。线程在何时被执行，被分配于哪个逻辑处理器上执行，完全由操作系统决定。

## 1. 线程的创建与同步

```c++
auto t = std::thread(function Pointer, arguments...);
/** ...some operations */
t.join();
```

​	以上是最简单的线程创建与同步的代码。`std::thread`代表线程对象，其构造函数至少需要一个函数指针作为新线程的执行入口。其后是该函数的可变参数列表。

> 如果函数中有参数是引用类型，务必在可变参数列表中以`std::ref()`对参数进行“标记”，否则可能会以值形式传参

​	`t.join()`表示该当前主线程(创建t的线程)需要在此处等待t线程执行完成。

## 2. Data Race

​	c++定义的数据竞争是针对同一片*内存区域*而言的。即如果一片内存区域存在不多于一个读操作，或者多个写操作(不含任何写操作)时，该数据不存在Data Race。